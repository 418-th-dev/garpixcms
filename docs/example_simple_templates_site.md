# Корпорат на шаблонах

Пример простого корпоративного сайта на шаблонах.

#### Шаг 1. Создание нового проекта

Для начала, создайте новый проект по [документации](install_new_project.md).

Если после входа увидите ошибку "No template names provided" - это значит, что можно переходить к следующему шагу.

#### Шаг 2. Создаем структуру в админ-панели

Заходим в админ-панель по адресу [http://localhost:8000/admin/](http://localhost:8000/admin/).

2.1. Заходим в "Сайты". Можно отредактировать адрес сайта на тот, который вам необходим. На компьютере разработчика можно использовать и тот, что по умолчанию - `example.com`.

2.2. Заходим в "Структура страниц". Нажимаем "Добавить", заполняем поля:
- Название: "Главная"
- ЧПУ: стираем, должно быть пустым
- Сайты для отображения: Выбираем единственное значение
- Тип страницы: "Главная страница"
- Содержимое: "Главная страница моего сайта"
- Можно также заполнить SEO-теги (далее вы сможете их увидеть, если откроете код страницы [http://localhost:8000/](http://localhost:8000/))
и сохраняйте.
  
2.3. После этого, вы можете зайти на главную страницу сайта [http://localhost:8000/](http://localhost:8000/) и увидеть стандартный бутстрап-шаблон, в который вывелись значения.

2.4. Возвращаемся в административную панель и создаем еще несколько страниц через "Структуру страниц":

Страница "Контакты":
- Название: "Контакты"
- ЧПУ: автоматически
- Сайты для отображения: Выбираем единственное значение
- Тип страницы: "Обычная страница"
- Содержимое: "Мои контакты"

Страница "Доставка":
- Название: "Доставка"
- ЧПУ: автоматически
- Сайты для отображения: Выбираем единственное значение
- Тип страницы: "Обычная страница"
- Содержимое: "Наши правила доставки"

2.5. Далее создаем меню. Переходим в "Пункты меню".

Добавляем три пункта меню.

Меню "Главная":
- Название для админа: Главная
- Название: Главная
- Тип меню: Header menu
- Страница, на которую ведет пункт меню: Главная страница
- Сортировка: 50

Меню "Доставка":
- Название для админа: Доставка
- Название: Доставка
- Тип меню: Header menu
- Страница, на которую ведет пункт меню: Доставка
- Сортировка: 80

Меню "Контакты":
- Название для админа: Контакты
- Название: Контакты
- Тип меню: Header menu
- Страница, на которую ведет пункт меню: Контакты
- Сортировка: 100

2.6. После этого, вы можете зайти на главную страницу сайта [http://localhost:8000/](http://localhost:8000/) и увидеть меню, при переходе по которым можно увидеть содержимое страниц.

#### Шаг 3. Объявление используемых страниц

В зависимости от функциональных возможностей сайта, могут потребоваться страницы
с различным контекстом. В GarpixCMS есть возможность создавать из административной панели
страницы с различным наполнением и поддержкой ЧПУ с сохранением возможности
разработчиком использовать различные представления и контексты для страниц.

Для создания страниц используется модуль [garpix_page](https://github.com/garpixcms/garpix_page) с предустановленными параметрами
(вы можете их расширять).

Для начала надо понять терминологию:

- Страница (Page, Model Page) - это модель, дочерний класс от `BasePage`. Вы можете создавать их сами.
- Тип Страницы (Page Type) - захардкоженный в `settings.py` тип страницы. Необходим для возможности создания разного поведения и представления страниц (именно поэтому он не объединен со Страницей в одну сущность).
- Контекст (Context) - функция, которая возвращает словарь. Значения можно применять в шаблонах. Всегда включает в себя `object` (объект класса страницы) и `request`.
- Шаблон (Template) - стандартный Django шаблон.


